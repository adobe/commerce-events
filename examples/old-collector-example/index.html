<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css" />

        <!-- command queue -->
        <script>
            // prettier-ignore
            !function(n,o){o.forEach(function(o){n[o]||((n.__commerceNS=n.__commerceNS||
            []).push(o),n[o]=function(){var u=arguments;return new Promise(
            function(i,l){n[o].q.push([i,l,u])})},n[o].q=[])})}
            (window,["commerceConnector"]);
        </script>

        <!-- sdk -->
        <script src="http://localhost:8080/index.js"></script>

        <!-- note: when testing async, move this before sdk to ensure sdk isn't loaded yet -->
        <!-- local -->
        <script src="/index.js"></script>

        <!-- collector -->
        <script src="http://localhost:8081/index.js"></script>
    </head>

    <body>
        <div class="events">
            <button onclick="setContext()">set AEP context(command queue)</button>

            <script>
                function setContext() {
                    commerceConnector("context", "setAEP", { imsOrgId: "77777", datastreamId: "hhhh" });
                }
            </script>

            <button onclick="setContext()">page view(command queue)</button>

            <script>
                function setContext() {
                    commerceConnector("publish", "pageView");
                }
            </script>

            <button
                onclick="magentoStorefrontEvents.publish.custom({customFieldStr: 'strValue', customFieldNum: 1.45})"
            >
                customEvent
            </button>

            <button onclick="magentoStorefrontEvents.publish.pageView()">pageView</button>

            <button onclick="publishCustomPageView()">customPageView</button>

            <script>
                function publishCustomPageView() {
                    magentoStorefrontEvents.publish.custom({
                        eventType: "web.webpagedetails.pageViews",
                        web: {
                            webPageDetails: {
                                pageViews: {
                                    value: 1,
                                },
                            },
                        },
                    });
                }
            </script>

            <button
                onclick="magentoStorefrontEvents.publish.productPageView(
                {
                commerce: {
                    productViews: {
                        value: 1,
                    },
                },
                })"
            >
                productPageView
            </button>

            <button onclick="magentoStorefrontEvents.publish.abandonCart()">abandonCart</button>

            <button onclick="magentoStorefrontEvents.publish.addToCart()">addToCart</button>

            <button onclick="magentoStorefrontEvents.publish.shoppingCartView()">shoppingCartView</button>

            <button onclick="magentoStorefrontEvents.publish.initiateCheckout()">initiateCheckout</button>

            <button onclick="magentoStorefrontEvents.publish.placeOrder()">placeOrder</button>

            <button onclick="magentoStorefrontEvents.publish.recsItemAddToCartClick('abc123', 111111)">
                recsItemAddToCartClick
            </button>

            <button onclick="magentoStorefrontEvents.publish.recsItemClick('abc123', 111111)">recsItemClick</button>

            <button onclick="magentoStorefrontEvents.publish.recsRequestSent()">recsRequestSent</button>

            <button onclick="magentoStorefrontEvents.publish.recsResponseReceived()">recsResponseReceived</button>

            <button onclick="magentoStorefrontEvents.publish.recsUnitRender('abc123')">recsUnitRender</button>

            <button onclick="magentoStorefrontEvents.publish.recsUnitView('abc123')">recsUnitView</button>

            <button onclick="magentoStorefrontEvents.publish.searchCategoryClick('search-bar', 'Bottoms')">
                searchCategoryClick
            </button>

            <button onclick="magentoStorefrontEvents.publish.searchProductClick('search-bar', 'abc123')">
                searchProductClick
            </button>

            <button onclick="magentoStorefrontEvents.publish.searchRequestSent('search-bar')">searchRequestSent</button>

            <button onclick="magentoStorefrontEvents.publish.searchResponseReceived('search-bar')">
                searchResponseReceived
            </button>

            <button onclick="magentoStorefrontEvents.publish.searchResultsView('search-bar')">searchResultsView</button>

            <button onclick="magentoStorefrontEvents.publish.searchSuggestionClick('search-bar', 'red pants')">
                searchSuggestionClick
            </button>

            <button onclick="magentoStorefrontEvents.publish.createAccount()">createAccount</button>

            <button onclick="magentoStorefrontEvents.publish.editAccount()">editAccount</button>

            <button onclick="magentoStorefrontEvents.publish.signIn()">signIn</button>

            <button onclick="magentoStorefrontEvents.publish.signOut()">signOut</button>
        </div>
    </body>
</html>
